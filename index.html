<html>
    <head>
    
        <title>jquery.easie.js</title>
        
        <style type="text/css">
            html, body {
                font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
                color:white;
		    }
            
            html {
                background-color: #191919;
                min-height:100%;
		    }
            
            li {
                margin-top:6px;
            }
            
	        section {
	            width:600px;
	            margin-bottom:0px;
	            margin-top:80px;
	            margin-left:auto;
	            margin-right:auto;
	            padding:40px;
		        background-color: #444;
		        opacity:0.0;
		        -webkit-border-radius:4px;
		    }
		    
		    h1 {
		        margin-top:-15px;
		        font-weight:300;
		        font-size:50px;
		        letter-spacing:1px;
		        text-shadow: 0px -1px -1px #999;
            }
		    
		    #graph {
		        margin-top:40px;
		        padding:10px;
		        background-color: #666;
		        width:200px;
		        height:200px;
		        -webkit-border-radius:3px;
		    }
        </style>
        
        <script type="text/javascript" src="lib/jquery-1.5.2.js"></script>
        <script type="text/javascript" src="lib/raphael-min.js"></script>
        <script type="text/javascript" src="js/jquery.easie.js"></script>
        
        <script type="text/javascript">
            
            $(document).ready(function() {
                $("section").animate({"opacity":1.0},1500,"easieEaseIn");
                
                showGraph("easieEaseInOut");
            });
            
            function showGraph(easingName) {
                var h = 200;
                var w = 200;
                var p = 10;
                
                var r = Raphael("graph", w, h);
                
                var func = $.easing[easingName];
                var params = func.params;
                
                var fullh = (h-2*p);
                var fullw = (w-2*p);
                
                var count = 100;
                var lineDesc = "M"+p+" "+(h-p);
                for(var i=0;i<(count+1);i++) {
                    var x = i/count;
                    var y = func(x,1,0,1);
                    lineDesc += "L"+(p+fullw*x)+" "+(h-p-fullh*y);
                }
                console.log(lineDesc);
                r.path(lineDesc).attr({stroke:"white","stroke-width":5,"stroke-linecap":"round"});
                
                var endattr = {fill: "#ffffff", stroke: "none"};
                var selectattr = {fill: "#cb4b16", stroke: "none"};
                var lineattr = {stroke:"white","stroke-dasharray": ".","stroke-width":2,"stroke-linecap":"round"};
                
                var c1 = [p, h-p];
                var c2 = [w-p, p];
                
                r.circle(c1[0],c1[1], 5).attr(endattr),
                r.circle(c2[0],c2[1], 5).attr(endattr)
                
                var p1 = [p+fullw*params[0], h-p-fullh*params[1]];
                var p2 = [p+fullw*params[2], h-p-fullh*params[3]];
                
                var lines = r.set(
                    r.path("M"+c1[0]+" "+c1[1]+"L"+p1[0]+" "+p1[1]).attr(lineattr),
                    r.path("M"+c2[0]+" "+c2[1]+"L"+p2[0]+" "+p2[1]).attr(lineattr)
                );
                
                var controls = r.set(
                    r.circle(p1[0], p1[1], 5).attr(selectattr),
                    r.circle(p2[0], p2[1], 5).attr(selectattr)
                );
                
                controls.drag(move, up);
                
                function move(dx, dy) {
                    //this.update(dx - (this.dx || 0), dy - (this.dy || 0));
                    var ncx = this.attr("cx") + dx - (this.dx || 0);
                    var ncy = this.attr("cy") + dy - (this.dy || 0);
                    
                    this.attr({cx:ncx, cy:ncy});
                    this.dx = dx;
                    this.dy = dy;
                }
                function up() {
                    this.dx = this.dy = 0;
                }
            }
            
        </script>
    </head>
    <body>
        <section>
            <h1>jquery.easie.js</h1>
            
            <p>Css3-like easing functions for jQuery</p>
            
            <ul>
                <li>Tweak the shape of easings</li>
                <li>Compatible with Css3 easings</li>
                <li>Small (less than 2kB minified)</li>
                <li>Fast (uses lookup tables)</li>
            </ul>
            
            <div id="graph">
                
            </div>
            
        </section>
    </body>
</html>